<template tag-name="lyte-multi-dropdown">
    <template lyte-if="{{ltPropType=='checkbox'}}">
        <lyte-dropdown 
        lt-prop-options="{{ltPropData}}"
        lt-prop-user-value="{{ltPropUserValue}}"
        lt-prop-system-value="{{ltPropSystemValue}}"
        lt-prop-selected-list="{{ltPropSelected}}"
        lt-prop-type="multiple"  
        lt-prop-no-result=""
        on-before-add="{{method('defaultBeforeAdd')}}" 
        on-add="{{method('defaultAdd')}}" 
        on-option-selected="{{method('onOptionSelected')}}"
        on-show="{{method('onShow')}}" 
        on-before-show="{{method('onBeforeShow')}}" 
        on-hide="{{method('onHide')}}" 
        on-before-hide="{{method('onBeforeHide')}}" 
        on-before-remove="{{method('onBeforeRemove')}}" 
        on-position-changed="{{method('onPositionChanged')}}" 
        before-select="{{method('beforeSelect')}}" 
        on-change="{{method('onChange')}}" 
        on-scroll="{{method('onScroll')}}"
        on-search="{{method('onSearch')}}"> 
            <template  is="registerYield" yield-name="yield">
                <lyte-yield lyte-if="{{ltPropYield}}" yield-name="yield"></lyte-yield>
               <lyte-drop-button lyte-else>
                <span class="lyteDropPlaceholderMultiple">Select value</span>
                    <div class="lyteMultiDropSelectedText">
                    <template lyte-if="{{ltPropShowCount}}">
                        <lyte-text lt-prop-array = '{{multiTextArray}}'   lt-prop-hovercard='{"placement":"right"}'   lt-prop-suffix = " and &lt;span class ='prefixClass'&gt;{0} others&lt;/span&gt;" lt-prop-min-count = 1></lyte-text>
                    </template>
                    <template lyte-else>
                        {{multiText}}  
                    </template>
                </div>
            </lyte-drop-button>
            <lyte-hovercard  lt-prop-auto-show="true"  lt-prop-max-width="250px" lt-prop-placement="right">
                <template is = "registerYield" yield-name = "hoverCardYield">
                  <lyte-hovercard-content class="lyteMultiDropdownHovercardContent">
                    {{multiTextForHovercard}}
                  </lyte-hovercard-content>
                 </template>
            </lyte-hovercard>
            <lyte-drop-box class="lyteMultiDropdownCheckBoxTypeDropbox">
                <lyte-drop-body>
                    <%ltPropData.forEach(function(item,index){
                        if(lyteUiOptGroupCheck(item)){%>
                            <lyte-drop-group>
                                <lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>
                                <%lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item)).forEach(function(subItem,indexval){%>
                                    <lyte-drop-item  data-value="{{subItem[ltPropSystemValue]}}" >
                                        <lyte-checkbox lt-prop-label="{{subItem[ltPropUserValue]}}" on-unchecked="{{method('defaultBeforeUnchecked')}}"  ></lyte-checkbox>
                                    </lyte-drop-item>
                                <%})%>
                            </lyte-drop-group>
                        <%}else{%>
                            <lyte-drop-item data-value="{{item[ltPropSystemValue]}}" >
                                <lyte-checkbox lt-prop-label="{{item[ltPropUserValue]}}" on-unchecked="{{method('defaultBeforeUnchecked')}}"  ></lyte-checkbox>
                            </lyte-drop-item>
                        <%}})%>
                            <!-- <lyte-drop-item lyte-for="{{ltPropData}}"  as item index data-value="{{item[ltPropSystemValue]}}" >
                                <lyte-checkbox lt-prop-label="{{item[ltPropUserValue]}}" on-unchecked="{{method('defaultBeforeUnchecked')}}"  ></lyte-checkbox>
                            </lyte-drop-item> -->
                </lyte-drop-body>
            </lyte-drop-box>
            </template>
        </lyte-dropdown>
    </template>
    <template lyte-else>
        <lyte-dropdown
        lt-prop-type="multiple" 
        lt-prop-options="{{ltPropData}}"
        lt-prop-user-value="{{ltPropUserValue}}"
        lt-prop-system-value="{{ltPropSystemValue}}"
        lt-prop-selected-list="{{ltPropSelected}}"
        lt-prop-no-result=""
        on-before-add="{{method('multiBeforeAdd')}}"
        on-add="{{method('multiAdd')}}"
        on-option-selected="{{method('onOptionSelected')}}"
        on-show="{{method('onShow')}}" 
        on-before-show="{{method('onBeforeShow')}}" 
        on-hide="{{method('onHide')}}" 
        on-before-hide="{{method('onBeforeHide')}}" 
        on-before-remove="{{method('onBeforeRemove')}}" 
        on-position-changed="{{method('onPositionChanged')}}" 
        before-select="{{method('beforeSelect')}}" 
        on-change="{{method('onChange')}}" 
        on-scroll="{{method('onScroll')}}"
        on-search="{{method('onSearch')}}">
            <template  is="registerYield" yield-name="yield">
                <lyte-yield lyte-if="{{ltPropYield}}" yield-name="yield"></lyte-yield>
                <lyte-drop-button lyte-else >
                    <span class="lyteDropPlaceholderMultiple">Select value</span>
                    <div class="lyteMultiDropSelectedText">
                    <template lyte-if="{{ltPropShowCount}}">
                        <lyte-text lt-prop-array = '{{multiTextArray}}'   lt-prop-hovercard='{"placement":"right"}'   lt-prop-suffix = " and &lt;span class ='prefixClass'&gt;{0} others&lt;/span&gt;" lt-prop-min-count = 1></lyte-text>
                    </template>
                    <template lyte-else>
                        {{multiText}}  
                    </template>
                </div>
                    <!-- <button lyte-if="{{ltPropClear}}" onclick="{{action('clearAll')}}">c</button> -->
                </lyte-drop-button>
                <lyte-hovercard lt-prop-auto-show="true" lt-prop-max-width="250px" lt-prop-placement="right">
                    <template is = "registerYield" yield-name = "hoverCardYield">
                      <lyte-hovercard-content class="lyteMultiDropdownHovercardContent">
                        {{multiTextForHovercard}}
                      </lyte-hovercard-content>
                     </template>
                  </lyte-hovercard>
                <lyte-drop-box onclick="{{action('multiRemoveitem')}}" class="lyteMultiDropdownDropbox" >
                    <lyte-drop-body>
                        <%ltPropData.forEach(function(item,index){
                        if(lyteUiOptGroupCheck(item)){%>
                            <lyte-drop-group>
                                <lyte-drop-label>{{lyteUiReturnOnlyKey(item)}}</lyte-drop-label>
                                <%lyteUiReturnValueBy(item,lyteUiReturnOnlyKey(item)).forEach(function(subItem,indexval){%>
                                    <lyte-drop-item data-value="{{subItem[ltPropSystemValue]}}">{{subItem[ltPropUserValue]}}</lyte-drop-item>
                                <%})%>
                            </lyte-drop-group>
                        <%}else{%>
                            <lyte-drop-item  data-value="{{item[ltPropSystemValue]}}">
                                  {{item[ltPropUserValue]}}
                            </lyte-drop-item>
                        <%}})%>
                    </lyte-drop-body>
                </lyte-drop-box>
            </template>
        </lyte-dropdown>
    </template>
</template>